<script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script> 
  <script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
  <script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script>
<p id="notice"><%= notice %></p>
<div style="float:left; width:900px">
<div style="float:left; width:400px">
   <!-- <%= @post.image_path ? image_tag(@post.image_path) : image_tag('default.jpg') %>-->
 <%= @post.image_path ? image_tag(@post.image_path.url, :size => "300x300") : image_tag('default.jpg') %>

</div>
<div style="float:left; width:500px">
<p>
  <strong>Content:</strong>
  <%= @post.content ? @post.content : "" %>
</p>
<p>
  <strong>Rating:</strong>
  <%= @post.rating ? @post.rating : "" %>
</p>

<p>
  <strong>Address:</strong>
  <%= @post.address ? @post.address : "" %>
</p>

<p>
  <strong>Latitude:</strong>
  <%= @post.latitude ? @post.latitude : "No Latitude" %>
</p>

<p>
  <strong>Longitude:</strong>
  <%= @post.longitude ? @post.longitude : "Longitude" %>
</p>

<p>
  <strong>IP Address:</strong>
  <%= @post.ip_address ? @post.ip_address : "No IP Address detected" %>
</p>

<%= link_to 'Edit', edit_post_path(@post) %> |
<%= link_to 'Back', posts_path %>
</div>

<!--Google Map Div-->
<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<script type="text/javascript">
  handler = Gmaps.build('Google');
handler.buildMap({
    provider: {
      disableDefaultUI: true
      // pass in other Google Maps API options here
    },
    internal: {
      id: 'map'
    }
  },
  function(){
    markers = handler.addMarkers([
      {
        "lat": 0,
        "lng": 0,
        "picture": {
          "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
          "width":  32,
          "height": 32
        },
        "infowindow": "hello!"
      }
    ]);
    handler.bounds.extendWith(markers);
    handler.fitMapToBounds();
  }
);
</script>

<div>
  <p>Google Map</p>
  <%= image_tag("https://maps.googleapis.com/maps/api/staticmap?center=#{@post.address}&zoom=13&size=600x300&maptype=roadmap
&markers=color:blue%7Clabel:S%7C40.702147,-74.015794&markers=color:green%7Clabel:G%7C40.711614,-74.012318
&markers=color:red%7Clabel:C%7C40.718217,-73.998284
&key=AIzaSyCpYdeT4fzSt405zZeIs44460rQVH5FncE") %>
</div>